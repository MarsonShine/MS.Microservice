<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="405px" preserveAspectRatio="none" style="width:531px;height:405px;" version="1.1" viewBox="0 0 531 405" width="531px" zoomAndPan="magnify"><defs/><g><rect fill="#F7F8FE" height="114.2422" style="stroke:#070D4A;stroke-width:1.0;" width="10" x="27" y="266.2832"/><line style="stroke:#070D4A;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="32" x2="32" y1="36.4883" y2="398.5254"/><line style="stroke:#070D4A;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="287" x2="287" y1="36.4883" y2="398.5254"/><line style="stroke:#070D4A;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="346" x2="346" y1="36.4883" y2="398.5254"/><rect fill="#F7F8FE" height="30.4883" style="stroke:#070D4A;stroke-width:1.5;" width="54" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="12" y="25.5352">Client</text><rect fill="#F7F8FE" height="30.4883" style="stroke:#070D4A;stroke-width:1.5;" width="44" x="265" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="272" y="25.5352">blue</text><rect fill="#F7F8FE" height="30.4883" style="stroke:#070D4A;stroke-width:1.5;" width="54" x="319" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="326" y="25.5352">green</text><rect fill="#F7F8FE" height="114.2422" style="stroke:#070D4A;stroke-width:1.0;" width="10" x="27" y="266.2832"/><polygon fill="#070D4A" points="275,63.7988,285,67.7988,275,71.7988,279,67.7988" style="stroke:#070D4A;stroke-width:1.0;"/><line style="stroke:#070D4A;stroke-width:1.0;" x1="32" x2="281" y1="67.7988" y2="67.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="39" y="63.0566">get("name")</text><path d="M292,80.7988 L292,135.7988 L414,135.7988 L414,90.7988 L404,80.7988 L292,80.7988 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><path d="M404,80.7988 L404,90.7988 L414,90.7988 L404,80.7988 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="298" y="98.3672">key: "name"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="298" y="113.6777">value: "old"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="298" y="128.9883">version: {blue:1}</text><polygon fill="#070D4A" points="334,159.041,344,163.041,334,167.041,338,163.041" style="stroke:#070D4A;stroke-width:1.0;"/><line style="stroke:#070D4A;stroke-width:1.0;" x1="32" x2="340" y1="163.041" y2="163.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="39" y="158.2988">get("name")</text><path d="M351,176.041 L351,231.041 L524,231.041 L524,186.041 L514,176.041 L351,176.041 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><path d="M514,176.041 L514,186.041 L524,186.041 L514,176.041 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="357" y="193.6094">key: "name"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="357" y="208.9199">value: "new"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="357" y="224.2305">version:{blue:1, green:1}</text><line style="stroke:#070D4A;stroke-width:1.0;" x1="32" x2="79" y1="253.2832" y2="253.2832"/><line style="stroke:#070D4A;stroke-width:1.0;" x1="79" x2="79" y1="253.2832" y2="266.2832"/><line style="stroke:#070D4A;stroke-width:1.0;" x1="38" x2="79" y1="266.2832" y2="266.2832"/><polygon fill="#070D4A" points="48,262.2832,38,266.2832,48,270.2832,44,266.2832" style="stroke:#070D4A;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="44" y="248.541">repairMissingOrStaleValues</text><polygon fill="#070D4A" points="275,296.5938,285,300.5938,275,304.5938,279,300.5938" style="stroke:#070D4A;stroke-width:1.0;"/><line style="stroke:#070D4A;stroke-width:1.0;" x1="37" x2="281" y1="300.5938" y2="300.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="44" y="295.8516">put("name", "new", {blue:1, green:1})</text><path d="M292,313.5938 L292,368.5938 L465,368.5938 L465,323.5938 L455,313.5938 L292,313.5938 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><path d="M455,313.5938 L455,323.5938 L465,323.5938 L455,313.5938 " fill="#F7F8FE" style="stroke:#070D4A;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="298" y="331.1621">key: "name"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="298" y="346.4727">value: "new"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="298" y="361.7832">version:{blue:1, green:1}</text><polygon fill="#070D4A" points="43,376.5254,33,380.5254,43,384.5254,39,380.5254" style="stroke:#070D4A;stroke-width:1.0;"/><line style="stroke:#070D4A;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="37" x2="286" y1="380.5254" y2="380.5254"/><!--MD5=[8adfa5cca5cdc04a99b33f9a012cb6c8]
@startuml
!include ../style.puml
participant Client
Client -> blue: get("name")
note right blue
  key: "name"
  value: "old"
  version: {blue:1}
end note
Client -> green: get("name")
note right green
  key: "name"
  value: "new"
  version:{blue:1, green:1}
end note
Client -> Client: repairMissingOrStaleValues
activate Client
Client -> blue: put("name", "new", {blue:1, green:1})
note right blue
  key: "name"
  value: "new"
  version:{blue:1, green:1}
end note
Client <- - blue
deactivate Client
@enduml

@startuml
skinparam shadowing false
skinparam sequenceParticipant{
    BackgroundColor #F7F8FE
  BorderColor #070D4A
}
skinparam sequenceLifeLine {
   BackgroundColor #F7F8FE
  BorderColor #070D4A
}
skinparam sequence {
  ArrowColor #070D4A
}

skinparam Note {
    BackgroundColor #F7F8FE
  BorderColor #070D4A
}
skinparam Node {
    BackgroundColor #F7F8FE
  BorderColor #070D4A
}

skinparam object {
    BackgroundColor #F7F8FE
  BorderColor #070D4A
}


hide footbox
participant Client
Client -> blue: get("name")
note right blue
  key: "name"
  value: "old"
  version: {blue:1}
end note
Client -> green: get("name")
note right green
  key: "name"
  value: "new"
  version:{blue:1, green:1}
end note
Client -> Client: repairMissingOrStaleValues
activate Client
Client -> blue: put("name", "new", {blue:1, green:1})
note right blue
  key: "name"
  value: "new"
  version:{blue:1, green:1}
end note
Client <- - blue
deactivate Client
@enduml

PlantUML version 1.2021.5(Sun Apr 25 07:20:28 EDT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>